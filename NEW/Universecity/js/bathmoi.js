let bathomologies = [
    {
        "code_name": "AIC101",
        "name": "Αλγόριθμοι",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "10",
        "period exam": "ΦΕΒΡ 2020-2021",
        "semester": "1",
    },
    {
        "code_name": "AIC102",
        "name": "Γραμμική Άλγεβρα",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "9",
        "period exam": "ΦΕΒΡ 2020-2021",
        "semester": "1",
    },
    {
        "code_name": "AIC103",
        "name": "Διαδικαστικός Προγραμματισμός",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "4",
        "grade": "10",
        "period exam": "ΦΕΒΡ 2020-2021",
        "semester": "1",
    },
    {
        "code_name": "AIC104",
        "name": "Μαθηματική Ανάλυση",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "9",
        "period exam": "ΦΕΒΡ 2020-2021",
        "semester": "1",
    },
    {
        "code_name": "AIC105",
        "name": "Συστήματα Υπολογιστών",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "7",
        "period exam": "ΣΕΠΤ 2020-2021",
        "semester": "1",
    },
    {
        "code_name": "AIC106",
        "name": "Ακαδημαϊκές Δεξιότητες στην Αγγλική",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "10",
        "period exam": "ΦΕΒΡ 2020-2021",
        "semester": "1",
    },
    {
        "code_name": "CSC101",
        "name": "Εισαγωγή στην  Επιστήμη Υπολογιστών",
        "option": "Υποχρεωτικό Κατεύθυνσης",
        "ects": "5",
        "hours": "3",
        "grade": "8",
        "period exam": "ΦΕΒΡ 2020-2021",
        "semester": "1",
    },
    {
        "code_name": "AIC201",
        "name": "Αρχιτεκτονική Υπολογιστών",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "5",
        "period exam": "ΙΟΥΝ 2020-2021",
        "semester": "2",
    },
    {
        "code_name": "AIC202",
        "name": "Βάσεις Δεδομένων",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "8",
        "period exam": "ΙΟΥΝ 2020-2021",
        "semester": "2",
    },
    {
        "code_name": "AIC203",
        "name": "Διακριτά Μαθηματικά",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "8",
        "period exam": "ΙΟΥΝ 2020-2021",
        "semester": "2",
    },
    {
        "code_name": "AIC204",
        "name": "Διοίκηση και Τεχνολογία",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "6",
        "period exam": "ΙΟΥΝ 2020-2021",
        "semester": "2",
    },
    {
        "code_name": "AIC205",
        "name": "Δομές Δεδομένων",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "9",
        "period exam": "ΙΟΥΝ 2020-2021",
        "semester": "2",
    },
    {
        "code_name": "CSC201",
        "name": "Πιθανότητες",
        "option": "Υποχρεωτικό Κατεύθυνσης",
        "ects": "5",
        "hours": "3",
        "grade": "10",
        "period exam": "ΙΟΥΝ 2020-2021",
        "semester": "2",
    },
    {
        "code_name": "AIC301",
        "name": "Αντικειμενοστρεφής Προγραμματισμός",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "10",
        "period exam": "ΦΕΒΡ 2021-2022",
        "semester": "3",
    },
    {
        "code_name": "AIC302",
        "name": "Δίκτυα Υπολογιστών",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "9",
        "period exam": "ΦΕΒΡ 2021-2022",
        "semester": "3",
    },
    {
        "code_name": "AIC303",
        "name": "Λειτουργικά Συστήματα",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "0",
        "period exam": "ΦΕΒΡ 2021-2022",
        "semester": "3",
    },
    {
        "code_name": "AIC304",
        "name": "Πληροφοριακά Συστήματα",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "8",
        "period exam": "ΦΕΒΡ 2021-2022",
        "semester": "3",
    },
    {
        "code_name": "AIC305",
        "name": "Χρηματοοικονομική Λογιστική",
        "option": "Υποχρεωτικό Κορμού",
        "ects": "5",
        "hours": "3",
        "grade": "7",
        "period exam": "ΦΕΒΡ 2021-2022",
        "semester": "3",
    },
    {
        "code_name": "CSC301",
        "name": "Στατιστική",
        "option": "Υποχρεωτικό Κατεύθυνσης",
        "ects": "5",
        "hours": "3",
        "grade": "0",
        "period exam": "ΦΕΒΡ 2021-2022",
        "semester": "3",
    },

]

let student = { name: "Δήμητρα", lastname: "Τσιτσιλέγκα", am: "ics210xx", direction: "Επιστήμη και Τεχνολογία Υπολογιστών" };


const body = document.body;
let table = document.createElement("table");
let container = document.createElement("div");
container.classList.add("container");
body.classList.add("table");
table.setAttribute("id", "set1");

const text = document.createElement('p');
text.classList.add("pStudent");
text.innerHTML = "Βαθμολογίες - " + student.name + " " + student.lastname + " (" + student.am + ")";

function generateTableHead(table, data) {
    const thead = document.createElement('thead');
    table.appendChild(thead);
    let row = document.createElement('tr');
    thead.appendChild(row);
    for (let key of data) {
        let th = document.createElement("th");
        let text = document.createTextNode(key);
        th.appendChild(text);
        row.appendChild(th);
    }
}

function generateTableHeading(table, data) {
    const thead = document.createElement('thead');
    table.appendChild(thead);
    let row = document.createElement('tr');
    thead.appendChild(row);
    let th = document.createElement("th");
    let text = document.createTextNode(data);
    th.appendChild(text);
    row.appendChild(th);
}
function generateTableBody(table, data) {
    const tbody = document.createElement('tbody');
    table.appendChild(tbody);
    let row = document.createElement('tr');
    thead.appendChild(row);
    let td = document.createElement("td");
    let text = document.createTextNode(data);
    th.appendChild(text);
    row.appendChild(td);
}
function generateTable(table, data) {
    for (let element of data) {
        let row = document.createElement('tr');
        table.appendChild(row);
        for (key in element) {
            let cell = row.insertCell();
            let text = document.createTextNode(element[key]);
            cell.appendChild(text);
        }
    }
}

function checkreset() {
    if (document.getElementById("set1"))
        document.getElementById('set1').innerHTML = '';
}

function summary(table, data) {
    let sum = 0;
    let row = document.createElement('tr');
    table.appendChild(row);
    for (let element of data) {
        for (key in element) {
            let cell = row.insertCell();
            let text = document.createTextNode(element[key]);
            console.log(text);
        }
    }
    return sum;
}
let semester_1 = bathomologies.filter(course => course.semester === "1");
let semester_2 = bathomologies.filter(course => course.semester === "2");
let semester_3 = bathomologies.filter(course => course.semester === "3");
let semester_4 = bathomologies.filter(course => course.semester === "4");
let data = Object.keys(semester_1[0]);

generateTableHeading(table, "Α' Εξάμηνο");
generateTableHead(table, data);
generateTable(table, semester_1);

generateTableHeading(table, "‏‏‎ ‎");
let sum = summary(table, semester_1);

generateTableHeading(table, "Β' Εξάμηνο");
generateTableHead(table, data);
generateTable(table, semester_2);
generateTableHeading(table, "‏‏‎ ‎");
sum = summary(table, semester_2);

generateTableHeading(table, "Γ' Εξάμηνο");
generateTableHead(table, data);
generateTable(table, semester_3);
generateTableHeading(table, "‏‏‎ ‎");
sum = summary(table, semester_3);


body.appendChild(text);
body.appendChild(table);
